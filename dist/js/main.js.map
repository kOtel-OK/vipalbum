{"version":3,"file":"main.js","sources":["dev/js/nodes.js","dev/js/globals.js","dev/js/clearForm.js","dev/js/classItem.js","dev/js/createItem.js","dev/js/total.js","dev/js/renderItems.js","dev/js/editItem.js","dev/js/itemHandler.js","dev/js/changeItem.js","dev/js/changeCurrency.js","dev/js/main.js"],"sourcesContent":["export default {\n\titemContainer: document.querySelector('.item_container'),\n\tinputArea: document.querySelector('#textarea1'),\n\taddBtn: document.querySelector('.add'),\n\taddItemModal: document.querySelector('.modal'),\n\titemName: document.getElementById('item_name'),\n\titemMaket: document.getElementById('item_maket'),\n\tmainTitle: document.querySelector('.title'),\n\titemPrice: document.getElementById('item_price'),\n\taddItem: document.getElementById('add_item'),\n\ttotalItems: document.querySelector('.total_items'),\n\ttotalSum: document.querySelector('.total_sum'),\n\ttotalPaided: document.querySelector('.paided'),\n\ttotalDebt: document.querySelector('.debt'),\n\texSum: document.querySelector('.ex_sum'),\n\texPaided: document.querySelector('.ex_paided'),\n\texDebt: document.querySelector('.ex_debt'),\n\tformTitle: document.querySelector('.modal-content h4'),\n\tcheckCurrency: document.querySelector('.currency'),\n\tcurrrentCurrencyNode: document.querySelectorAll('.current_currency'),\n\tprivatContainer: document.querySelector('.privat_container'),\n\tlabel: Array.from(document.getElementById('modal1')\n\t\t.querySelectorAll('label')),\n\tinput: Array.from(document.getElementById('modal1')\n\t\t.querySelectorAll('input'))\n};\n","import nodes from \"./nodes\";\r\n\r\nexport default {\r\n\tnewItem: true,\r\n\tcurrentItemID: null,\r\n\tcurrentCurrency: 'uah',\r\n\tdate: new Date().toLocaleString('ru', {\r\n\t\tyear: 'numeric',\r\n\t\tmonth: '2-digit',\r\n\t\tday: 'numeric'\r\n\t}),\r\n\titems: [],\r\n\tmodal: M.Modal.init(nodes.addItemModal)\r\n};\r\n","import nodes from \"./nodes\";\n\nexport const clearForm = () => {\n\tnodes.label.forEach(el => el.classList.remove('active'));\n\tnodes.input.forEach(el => el.value = '');\n};\n","export default class Item {\n\tconstructor(name, maket, price, date, id, orderNumber) {\n\t\tthis.id = id;\n\t\tthis.name = name;\n\t\tthis.maket = maket;\n\t\tthis.price = price;\n\t\tthis.date = date;\n\t\tthis.dateOfPrinting = 'Нет';\n\t\tthis.dateOfPayment = 'Нет';\n\t\tthis.orderNumber = orderNumber;\n\t}\n}","import globals from \"./globals\";\nimport nodes from \"./nodes\";\nimport {clearForm} from \"./clearForm\";\nimport Item from \"./classItem\";\n\nexport const createItem = (callback) => {  //callback = renderItems\n\tconst id = `item_${globals.items.length}`,\n\t\tname = nodes.itemName.value,\n\t\tmaket = nodes.itemMaket.value,\n\t\tprice = nodes.itemPrice.value,\n\t\torder = globals.items.length + 1;\n\n\tif (name && maket && price) {\n\t\tglobals.items.push(new Item(name, maket, price, globals.date, id, order));\n\n\t\tclearForm();\n\t\tglobals.modal.close();\n\n\t\tcallback();\n\t\tconsole.log(globals.items);\n\t}\n};","//calculate total sum and stuff of all items\nimport nodes from \"./nodes\";\nimport globals from \"./globals\";\n\nexport const total = () => {\n\tconst  uah = 'грн.';\n\tconst totalS = globals.items.reduce((acc, el) => {\n\t\treturn acc += parseInt(el.price);\n\t}, 0);\n\n\tconst paidedItems = globals.items.filter(el => el.dateOfPayment !== 'Нет');\n\tconst paidedSum = paidedItems.reduce((acc, el) => {\n\t\treturn acc += parseInt(el.price);\n\t}, 0);\n\n\tnodes.totalSum.textContent = totalS;\n\tnodes.totalItems.textContent = globals.items.length;\n\tnodes.totalPaided.textContent = paidedSum;\n\tnodes.totalDebt.textContent = totalS - paidedSum;\n\n\tif (globals.currentCurrency === 'rur') {\n\t\tnodes.exSum.textContent = `${Math.round(totalS * eRates.rur * 20) / 20} ${uah}`;\n\t\tnodes.exPaided.textContent =  `${Math.round(paidedSum * eRates.rur * 20) / 20} ${uah}`;\n\t\tnodes.exDebt.textContent = `${Math.round((totalS - paidedSum) * eRates.rur * 20) / 20} ${uah}`;\n\t} else if (globals.currentCurrency === 'usd') {\n\t\tnodes.exSum.textContent = `${Math.round(totalS * eRates.usd * 20) / 20} ${uah}`;\n\t\tnodes.exPaided.textContent =  `${Math.round(paidedSum * eRates.usd * 20) / 20} ${uah}`;\n\t\tnodes.exDebt.textContent = `${Math.round((totalS - paidedSum) * eRates.usd * 20) / 20} ${uah}`;\n\t}\n};","import nodes from \"./nodes\";\nimport {total} from \"./total\";\nimport globals from \"./globals\";\n\nexport const renderItems = () => {\n\tnodes.itemContainer.innerHTML = '';\n\n\tglobals.items.forEach(el => {\n\t\tconst isCheckedPayment = el.dateOfPayment !== 'Нет' ? 'checked' : '';\n\t\tconst isCheckedPrinting = el.dateOfPrinting !== 'Нет' ? 'checked' : '';\n\t\tconst item = `\n       <tr id=\"${el.id}\" class=\"item\">\n         <td>${el.orderNumber}</td>\n         <td>${el.name}</td>\n         <td>${el.maket}</td>\n         <td>${el.price}</td>\n         <td>${el.date}</td>\n         <td>\n           <label>\n             <input type=\"checkbox\" class=\"filled-in printing\" ${isCheckedPrinting}/>\n             <span class=\"date_of_printing\">${el.dateOfPrinting}</span>\n           </label>\n         </td>         \n         <td>\n           <label>\n             <input type=\"checkbox\" class=\"filled-in payment\" ${isCheckedPayment}/>\n             <span class=\"date_of_payment\">${el.dateOfPayment}</span>\n           </label>\n         </td>\n  \n         <td><i class=\"material-icons green-text edit_item\">edit</i><i class=\"material-icons red-text delete_item\">delete_forever</i></td>\n       </tr>`;\n\n\t\tnodes.itemContainer.insertAdjacentHTML('beforeend', item);\n\t});\n\n\ttotal();\n};","//edit item function\nimport globals from \"./globals\";\nimport nodes from \"./nodes\";\n\nexport const editItem = (id) => {\n\tconsole.log(id);\n\tconst currentItem = globals.items.find(el => el.id === id);\n\n\tconsole.log('currentItem', currentItem);\n\n\tnodes.label.forEach(el => el.classList.add('active'));\n\n\tnodes.itemName.value = currentItem.name;\n\tnodes.itemMaket.value = currentItem.maket;\n\tnodes.itemPrice.value = currentItem.price;\n\n\tglobals.currentItemID = currentItem;\n};","import globals from \"./globals\";\nimport nodes from \"./nodes\";\nimport {total} from \"./total\";\nimport {editItem} from \"./editItem\";\n\nexport const itemHandler = (ev) => {\n\tconst currentID = ev.target.parentElement.parentElement.id;\n\tconst currentIDForPayment = ev.target.parentElement.parentElement.parentElement.id;\n//delete item click\n\tif (ev.target.classList.contains('delete_item')) {\n\t\tconst currentItem = globals.items.findIndex(el => el.id === currentID);\n\t\tconst parent = document.getElementById(currentID).parentElement;\n\n\t\tglobals.items.splice(currentItem, 1);\n\t\tparent.removeChild(document.getElementById(currentID));\n\n\t\tif (globals.items.length === 0) {\n\t\t\tnodes.itemContainer.innerHTML = '<tr><td colspan=\"8\">Нет заказов. Нажмите на <b>плюс</b>, чтобы добавить новый</td></tr>';\n\t\t}\n\n\t\ttotal();\n\t\tconsole.log('globals.items', globals.items);\n\t}\n\n//edit item\tclick\n\tif (ev.target.classList.contains('edit_item')) {\n\t\tconsole.log(currentID);\n\t\tnodes.addItem.textContent = 'Изменить';\n\t\tnodes.formTitle.textContent = 'Внести изменения';\n\t\tglobals.modal.open();\n\t\tglobals.newItem = false;\n\t\tconsole.log(globals.newItem);\n\t\teditItem(currentID);\n\t}\n\n//add payment date\n\tif (ev.target.classList.contains('payment')) {\n\t\tconst currentItem = globals.items.find(el => el.id === currentIDForPayment);\n\n\t\tif (ev.target.checked === true) {\n\t\t\tcurrentItem.dateOfPayment = globals.date;\n\t\t\tdocument.getElementById(currentIDForPayment)\n\t\t\t\t.querySelector('.date_of_payment')\n\t\t\t\t.textContent = globals.date;\n\t\t\tev.target.checked = 'checked';\n\n\t\t} else {\n\t\t\tcurrentItem.dateOfPayment = 'Нет';\n\t\t\tdocument.getElementById(currentIDForPayment)\n\t\t\t\t.querySelector('.date_of_payment')\n\t\t\t\t.textContent = 'Нет';\n\t\t\tconsole.log(currentItem);\n\t\t}\n\n\t\ttotal();\n\t}\n\n//add printing date\n\tif (ev.target.classList.contains('printing')) {\n\t\tconst currentItem = globals.items.find(el => el.id === currentIDForPayment);\n\n\t\tif (ev.target.checked === true) {\n\t\t\tcurrentItem.dateOfPrinting = globals.date;\n\t\t\tdocument.getElementById(currentIDForPayment)\n\t\t\t\t.querySelector('.date_of_printing')\n\t\t\t\t.textContent = globals.date;\n\t\t\tev.target.checked = 'checked';\n\n\t\t} else {\n\t\t\tcurrentItem.dateOfPrinting = 'Нет';\n\t\t\tdocument.getElementById(currentIDForPayment)\n\t\t\t\t.querySelector('.date_of_printing')\n\t\t\t\t.textContent = 'Нет';\n\t\t\tconsole.log(currentItem);\n\t\t}\n\t}\n};","import globals from \"./globals\";\nimport nodes from \"./nodes\";\n\nexport const changeItem = (callback) => {\n\tglobals.currentItemID.name = nodes.itemName.value;\n\tglobals.currentItemID.maket = nodes.itemMaket.value;\n\tglobals.currentItemID.price = nodes.itemPrice.value;\n\n\tcallback();\n\tglobals.modal.close();\n};","//change currency function\nimport globals from \"./globals\";\nimport nodes from \"./nodes\";\n\nexport const changeCurrency = (ev) => {\n\tconst displayTable = {\n\t\trow() {nodes.privatContainer.style = 'display: table-row'},\n\t\tnone() {nodes.privatContainer.style = 'display: none'}\n\t};\n\n\tglobals.currentCurrency = ev.target.value;\n\n\tArray.from(nodes.currrentCurrencyNode).forEach(el => {\n\t\tswitch (globals.currentCurrency) {\n\t\t\tcase 'uah':\n\t\t\t\tel.textContent = 'грн.';\n\t\t\t\tdisplayTable.none();\n\t\t\t\tbreak;\n\t\t\tcase 'rur':\n\t\t\t\tel.textContent = 'руб.';\n\t\t\t\tdisplayTable.row();\n\t\t\t\tbreak;\n\t\t\tcase 'usd':\n\t\t\t\tel.textContent = 'дол.';\n\t\t\t\tdisplayTable.row();\n\t\t\t\tbreak;\n\t\t}\n\t})\n};","import globals from \"./globals\";\nimport nodes from \"./nodes\";\nimport {clearForm} from \"./clearForm\";\nimport {createItem} from \"./createItem\";\nimport {renderItems} from \"./renderItems\";\nimport {itemHandler} from \"./itemHandler\";\nimport {changeItem} from \"./changeItem\";\nimport {changeCurrency} from \"./changeCurrency\";\nimport {total} from \"./total\";\n\n\nnodes.mainTitle.textContent = `Учет заказов на ${globals.date}`;\n\n//click on plus button to open modal\nnodes.addBtn.addEventListener('click', function () {\n\tnodes.formTitle.textContent = 'Добавить заказ';\n\tnodes.addItem.textContent = 'Добавить';\n\n\tglobals.modal.open();\n\tglobals.newItem = true;\n\tconsole.log(globals.newItem);\n\tclearForm();\n});\n\n//click on 'Добавить / Изменить'  button to add or change item\nnodes.addItem.addEventListener('click', function (ev) {\n\tif (globals.newItem === true) {\n\t\tcreateItem(renderItems);\n\t} else if (globals.newItem === false) {\n\t\tchangeItem(renderItems);\n\t}\n});\n\n//click on container\nnodes.itemContainer.addEventListener('click', function (ev) {\n\titemHandler(ev);\n});\n\n//choice of currency\nnodes.checkCurrency.addEventListener('change', (ev) => {\n\tchangeCurrency(ev);\n\ttotal();\n});\n"],"names":["itemContainer","document","querySelector","inputArea","addBtn","addItemModal","itemName","getElementById","itemMaket","mainTitle","itemPrice","addItem","totalItems","totalSum","totalPaided","totalDebt","exSum","exPaided","exDebt","formTitle","checkCurrency","currrentCurrencyNode","querySelectorAll","privatContainer","label","Array","from","input","newItem","currentItemID","currentCurrency","date","Date","toLocaleString","year","month","day","items","modal","M","Modal","init","nodes","clearForm","forEach","el","classList","remove","value","Item","constructor","name","maket","price","id","orderNumber","dateOfPrinting","dateOfPayment","createItem","callback","globals","length","order","push","close","console","log","total","uah","totalS","reduce","acc","parseInt","paidedItems","filter","paidedSum","textContent","Math","round","eRates","rur","usd","renderItems","innerHTML","isCheckedPayment","isCheckedPrinting","item","insertAdjacentHTML","editItem","currentItem","find","add","itemHandler","ev","currentID","target","parentElement","currentIDForPayment","contains","findIndex","parent","splice","removeChild","open","checked","changeItem","changeCurrency","displayTable","row","style","none","addEventListener"],"mappings":"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"}